---
import { getCollection } from "astro:content";
import Link from "@/components/Link.astro";
import PostsList from "@/components/PostsList.astro";
const allPosts = await getCollection("posts");
const sortedPosts = allPosts
  .sort(
    (a, b) =>
      new Date(b.data.pubDate).valueOf() - new Date(a.data.pubDate).valueOf(),
  )
  .slice(0, 3);
---

<>
  <PostsList posts={sortedPosts} />
  <p>
    <Link url="/posts" name="View more posts" />
  </p>
</>
